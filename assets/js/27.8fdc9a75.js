(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{390:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"common-js、amd、cmd-和-umd-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-js、amd、cmd-和-umd-的区别","aria-hidden":"true"}},[t._v("#")]),t._v(" Common JS、AMD、CMD 和 UMD 的区别")]),t._v(" "),a("h2",{attrs:{id:"common-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#common-js","aria-hidden":"true"}},[t._v("#")]),t._v(" Common JS")]),t._v(" "),a("ul",[a("li",[t._v("一个单独的文件就是一个模块，有自己的作用域。在一个文件里定义的变量、函数、类都是私有的，对其他文件不可见。")]),t._v(" "),a("li",[t._v("加载模块使用 "),a("code",[t._v("require")]),t._v(" 方法，该方法读取一个文件并执行，最后返回该文件内部的 "),a("code",[t._v("exports")]),t._v(" 对象。")]),t._v(" "),a("li",[t._v("模块加载的顺序，按照其在代码中出现的顺序。加载模块是"),a("strong",[t._v("同步")]),t._v("的，所以只有加载完才能执行后面的操作。")]),t._v(" "),a("li",[t._v("模块可以多次加载，但是只会在第一次加载时运行一次，然后运行结果就被缓存，以后再加载，就会直接读取缓存结果。要想让模块再次运行，必须清除缓存。")])]),t._v(" "),a("blockquote",[a("p",[t._v("像 "),a("code",[t._v("Node.js")]),t._v(" 主要用于服务器的编程，加载的模块文件一般都已经存在本地硬盘，所以加载起来比较快，不用考虑异步加载的方式，所以 "),a("code",[t._v("CommonJS")]),t._v(" 规范比较适用。但如果是浏览器环境，要从服务器加载模块，这是就必须采用"),a("strong",[t._v("异步模式")]),t._v("。所以就有了 "),a("code",[t._v("AMD")]),t._v(" 和 "),a("code",[t._v("CMD")]),t._v(" 解决方案。")])]),t._v(" "),a("h2",{attrs:{id:"amd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#amd","aria-hidden":"true"}},[t._v("#")]),t._v(" AMD")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("异步加载模块规范")]),t._v("，这样模块和模块的依赖可以被异步加载。这和浏览器的异步加载模块的环境刚好匹配。")]),t._v(" "),a("li",[t._v("本规范只定义了一个函数 "),a("code",[t._v("define")]),t._v("，它是全局变量。")]),t._v(" "),a("li",[a("code",[t._v("define.amd")]),t._v(" 是遵从 "),a("code",[t._v("AMD")]),t._v(" 规范的一个特殊标识符，它的值为"),a("strong",[t._v("一个对象")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"cmd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cmd","aria-hidden":"true"}},[t._v("#")]),t._v(" CMD")]),t._v(" "),a("ul",[a("li",[t._v("本规范只定义了一个函数 "),a("code",[t._v("define")]),t._v("，它是全局变量。")]),t._v(" "),a("li",[a("code",[t._v("define.cmd")]),t._v(" 是遵从 "),a("code",[t._v("CMD")]),t._v(" 规范的一个特殊标识符，它的值为"),a("strong",[t._v("一个对象")]),t._v("。")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"function"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" define"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 有 Sea.js 等 CMD 模块加载器存在")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h2",{attrs:{id:"umd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#umd","aria-hidden":"true"}},[t._v("#")]),t._v(" UMD")]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("UMD")]),t._v(" 是希望解决跨平台的解决方案。")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("UMD")]),t._v(" 是 "),a("code",[t._v("AMD")]),t._v(" 和 "),a("code",[t._v("Common JS")]),t._v(" 的糅合。")]),t._v(" "),a("li",[a("code",[t._v("AMD")]),t._v(" 以浏览器第一的原则发展，异步加载模块。")]),t._v(" "),a("li",[a("code",[t._v("Common JS")]),t._v(" 以服务器第一原则发展，选择同步加载，它的模块无需包装。")]),t._v(" "),a("li",[a("code",[t._v("UMD")]),t._v(" 先判断是否支持 "),a("code",[t._v("Node.js")]),t._v(" 的模块（ exports ） 是否存在，存在则使用 "),a("code",[t._v("Node.js")]),t._v(" 模块模式。然后再判断是否支持 "),a("code",[t._v("AMD")]),t._v(" （ define 是否存在 ），存在则使用 "),a("code",[t._v("AMD")]),t._v(" 方式加载模块。")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Common JS")]),t._v("\n        module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" defined"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// AMD 方式")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventUtil "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// module ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("h2",{attrs:{id:"扩展"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扩展","aria-hidden":"true"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/seajs/seajs/issues/588",target:"_blank",rel:"noopener noreferrer"}},[t._v("前端模块化开发那点历史"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"http://tinyambition.com/HelloSea.js/how-seajs-works.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sea.js是如何工作的？"),a("OutboundLink")],1)])]),t._v(" "),a("comment-comment")],1)}),[],!1,null,null,null);s.default=e.exports}}]);